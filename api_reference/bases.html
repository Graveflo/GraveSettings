<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Conversion Manager" href="conversion_manager.html" /><link rel="prev" title="Formatters" href="formatters.html" />

    <!-- Generated with Sphinx 6.1.3 and Furo 2022.12.07 -->
        <title>User Object Base Classes - grave_settings 0.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">grave_settings 0.1.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">grave_settings 0.1.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Directory</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../limitations.html">Limitations</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../limitations/security_concerns.html">Security Concerns</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../api_reference.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="semantics.html">Semantics</a></li>
<li class="toctree-l2"><a class="reference internal" href="handlers.html">Handler Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="formatters.html">Formatters</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">User Object Base Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="conversion_manager.html">Conversion Manager</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../examples.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/settings_base_classes.html">Settings Bases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/using_config_file.html">Config File Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/preserving_references.html">Preserving References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/circular_references.html">Circular References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/using_handlers.html">Using Handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/building_a_formatter.html">Custom Formatter</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api.html">API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.abstract.html">abstract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.base.html">base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.config_file.html">config_file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.conversion_manager.html">conversion_manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.default_handlers.html">default_handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.formatter.html">formatter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.formatter_settings.html">formatter_settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.framestack_context.html">framestack_context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.handlers.html">handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.helper_objects.html">helper_objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.semantics.html">semantics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.utilities.html">utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/grave_settings.validation.html">validation</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/modules.html">Formatters</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="user-object-base-classes">
<h1>User Object Base Classes<a class="headerlink" href="#user-object-base-classes" title="Permalink to this heading">#</a></h1>
<p>There are several base classes for defining settings. Some of them exist mostly to be templates that have proper conventions for interacting with formatters and others come with their own conventions and utilities.</p>
<p><a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.Serializable" title="grave_settings.abstract.Serializable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Serializable</span></code></a> - defines the interface for interacting with formatters
<a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.VersionedSerializable" title="grave_settings.abstract.VersionedSerializable"><code class="xref py py-class docutils literal notranslate"><span class="pre">VersionedSerializable</span></code></a> - defines interface for automatic versioning and conversion
<a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.IASettings" title="grave_settings.abstract.IASettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">IASettings</span></code></a> - defines the interface for “settings like” objects
<a class="reference internal" href="../api/grave_settings.base.html#grave_settings.base.Settings" title="grave_settings.base.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a> - A simple base class that uses string keys
<a class="reference internal" href="../api/grave_settings.base.html#grave_settings.base.SlotSettings" title="grave_settings.base.SlotSettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">SlotSettings</span></code></a> - A simple base class that uses slots and attributes</p>
<section id="serializable">
<h2>Serializable<a class="headerlink" href="#serializable" title="Permalink to this heading">#</a></h2>
<p>If you take a look at the api documentation or code for this class (its very small) it will give you a decent idea of what a “serializable” object looks like to this library. You do not need to directly inherit from <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.Serializable" title="grave_settings.abstract.Serializable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Serializable</span></code></a> to adhere from this interface. As long as the object has these methods they will be called unless they are disabled with the <a class="reference internal" href="../api/grave_settings.semantics.html#grave_settings.semantics.IgnoreDuckTypingForType" title="grave_settings.semantics.IgnoreDuckTypingForType"><code class="xref py py-class docutils literal notranslate"><span class="pre">IgnoreDuckTypingForType</span></code></a> or <a class="reference internal" href="../api/grave_settings.semantics.html#grave_settings.semantics.IgnoreDuckTypingForSubclasses" title="grave_settings.semantics.IgnoreDuckTypingForSubclasses"><code class="xref py py-class docutils literal notranslate"><span class="pre">IgnoreDuckTypingForSubclasses</span></code></a></p>
<p>Object template:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyObject</span><span class="p">(</span><span class="n">Serializable</span><span class="p">):</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">()</span>  <span class="c1"># this is not needed</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">check_in_serialization_context</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">FormatterContext</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">check_in_deserialization_context</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">FormatterContext</span><span class="p">):</span>
        <span class="c1"># context.register_frame_semantic(NotifyFinalizedMethodName(&#39;finalize&#39;))</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">FormatterContext</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_obj</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">FormatterContext</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">state_obj</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.Serializable.check_in_serialization_context" title="grave_settings.abstract.Serializable.check_in_serialization_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check_in_serialization_context()</span></code></a> and <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.Serializable.check_in_deserialization_context" title="grave_settings.abstract.Serializable.check_in_deserialization_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check_in_deserialization_context()</span></code></a> are class methods for a reason. See the docstrings for more info</p>
</div>
<p>Semantics should probably be added in the “check_in_context” methods and if no custom objects are being used in <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.Serializable.to_dict" title="grave_settings.abstract.Serializable.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_dict()</span></code></a> or <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.Serializable.from_dict" title="grave_settings.abstract.Serializable.from_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_dict()</span></code></a> they can just be erased. You can look at the default implementation to see if it suites your needs.</p>
</section>
<section id="versioned-serializable">
<span id="api-ref-versionedserializable"></span><h2>Versioned Serializable<a class="headerlink" href="#versioned-serializable" title="Permalink to this heading">#</a></h2>
<p>This is the template for version-aware serializable objects. The default implementations use another class: <a class="reference internal" href="../api/grave_settings.conversion_manager.html#grave_settings.conversion_manager.ConversionManager" title="grave_settings.conversion_manager.ConversionManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConversionManager</span></code></a> to handle most of this responsibility, but this is not required. The version aware objects exist for scenarios where data is stored on the hard drive (or something like that) and the client code that eventually reads the object is from a later date and using a different specification for the format. This can happen if you serialized a python object and then changed its attributes, or renamed something etc. Adding these methods to the mix allows you to version your object and write code that will update dictionaries in old formats to new ones.</p>
<p>Object Template:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyObject</span><span class="p">(</span><span class="n">VersionedSerializable</span><span class="p">):</span>
    <span class="n">VERSION</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">()</span>  <span class="c1"># this is not needed</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">check_in_serialization_context</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">FormatterContext</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">check_in_deserialization_context</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">FormatterContext</span><span class="p">):</span>
        <span class="c1"># context.register_frame_semantic(NotifyFinalizedMethodName(&#39;finalize&#39;))</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_conversion_manager</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConversionManager</span><span class="p">:</span>
        <span class="n">cm</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_conversion_manager</span><span class="p">()</span>
        <span class="c1"># TODO: Add converters here</span>
        <span class="k">return</span> <span class="n">cm</span>

    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">FormatterContext</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_obj</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">FormatterContext</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">state_obj</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>Very similar to <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.Serializable" title="grave_settings.abstract.Serializable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Serializable</span></code></a> except we have defined the class <code class="docutils literal notranslate"><span class="pre">VERSION</span></code> as a class level variable. This is read by the super classes <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.VersionedSerializable.get_version" title="grave_settings.abstract.VersionedSerializable.get_version"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_version()</span></code></a> and used in <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.VersionedSerializable.get_version_object" title="grave_settings.abstract.VersionedSerializable.get_version_object"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_version_object()</span></code></a>. We also have a space where we can use the <a class="reference internal" href="../api/grave_settings.conversion_manager.html#grave_settings.conversion_manager.ConversionManager" title="grave_settings.conversion_manager.ConversionManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConversionManager</span></code></a> to add conversion functions.</p>
<p><a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.VersionedSerializable.get_version_object" title="grave_settings.abstract.VersionedSerializable.get_version_object"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_version_object()</span></code></a> and <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.VersionedSerializable.check_convert_update" title="grave_settings.abstract.VersionedSerializable.check_convert_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check_convert_update()</span></code></a> are the only two methods that are absolutely necessary for a custom setup. The version object should be a serializable object (like a python dict) that contains <strong>all</strong> of the information necessary to precisely deduce the object’s version. <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.VersionedSerializable.check_convert_update" title="grave_settings.abstract.VersionedSerializable.check_convert_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check_convert_update()</span></code></a> will receive this version object and use it to ensure everything is up to date.</p>
</section>
<section id="iasettings">
<h2>IASettings<a class="headerlink" href="#iasettings" title="Permalink to this heading">#</a></h2>
<p>This is an abstract class for “setting like” objects. They inherit from <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.VersionedSerializable" title="grave_settings.abstract.VersionedSerializable"><code class="xref py py-class docutils literal notranslate"><span class="pre">VersionedSerializable</span></code></a>. If you take a look at the methods that <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.IASettings" title="grave_settings.abstract.IASettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">IASettings</span></code></a> has, it is basically a container that implements things like <code class="docutils literal notranslate"><span class="pre">__len__</span></code>, <code class="docutils literal notranslate"><span class="pre">__iter__</span></code>, <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code>, <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code> while also having an interface for the validation framework (this isn’t done yet).</p>
</section>
<section id="settings">
<h2>Settings<a class="headerlink" href="#settings" title="Permalink to this heading">#</a></h2>
<p>This is basically the non-abstract <a class="reference internal" href="../api/grave_settings.abstract.html#grave_settings.abstract.IASettings" title="grave_settings.abstract.IASettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">IASettings</span></code></a>. It is implemented in the simplest way possible with a dict. This is only a good option if you want to access and set data with strings only.</p>
</section>
<section id="slotsettings">
<h2>SlotSettings<a class="headerlink" href="#slotsettings" title="Permalink to this heading">#</a></h2>
<p>This is the class that I use most often. It uses <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> to implement the interfaces, including <a class="reference internal" href="../api/grave_settings.base.html#grave_settings.base.SlotSettings.to_dict" title="grave_settings.base.SlotSettings.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_dict()</span></code></a> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">from_dict()</span></code>. I recommend reading the test cases in <code class="docutils literal notranslate"><span class="pre">test_slot_settings.py</span></code> to get a quick handle on how to use this class. I would recommend never messing with <code class="docutils literal notranslate"><span class="pre">SETTINGS_KEYS</span></code> and only manipulating <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> and <code class="docutils literal notranslate"><span class="pre">_slot_rems</span></code> where necessary. If you are confused about why those two class variables exist it is to take away the annoyance of declaring the set of attributes that are should be serialized. Each class in a lineage of inheritance are only responsible for declaring which attributes that are adding or removing.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="conversion_manager.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Conversion Manager</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="formatters.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Formatters</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Ryan McConnell
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">User Object Base Classes</a><ul>
<li><a class="reference internal" href="#serializable">Serializable</a></li>
<li><a class="reference internal" href="#versioned-serializable">Versioned Serializable</a></li>
<li><a class="reference internal" href="#iasettings">IASettings</a></li>
<li><a class="reference internal" href="#settings">Settings</a></li>
<li><a class="reference internal" href="#slotsettings">SlotSettings</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    </body>
</html>